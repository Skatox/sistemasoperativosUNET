<!doctype html>
<html lang="es">

	<head>
		<meta charset="utf-8">
		<title>Sistemas Operativos | UNET</title>
		<meta name="description" content="Láminas de la materia de Sistemas Operativos de la Universidad Nacional Experimental del Táchira">
		<meta name="author" content="Miguel Angel Useche Castro">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/moon.css">
		<link rel="stylesheet" href="dist/theme/unet.css" id="theme">
		<link rel="stylesheet" href="css/lightbox.min.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
		<link href="img/favicon.ico" rel="shortcut icon" type="image/x-icon" />
	</head>

	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<div class="unet">
						<div class="logo-wrapper left">
							<img class="noborder" src="img/UNET.png" alt="UNET Logo">
						</div>
						<p id="definition-header" class="left">
							Universidad Nacional Experimental Del Táchira<br />
							Decanato De Docencia<br />
							Dpto. Ingeniería en Informática
						</p>
					</div>

					<h1 class="clear">
						Dispositivos de E/S
					</h1>
					<h2 id="subject-code">
						Código 0435607T
					</h2>
					<div class="professor-info">
						<p>
							<a href="http://skatox.com/" target="_blank">Prof. Miguel Useche</a> -
							<a href="mailto:miguel.useche@unet.edu.ve" target="_blank">migueluseche@unet.edu.ve</a> -
							<a href="http://twitter.com/skatox" target="_blank">@skatox</a>
						</p>
					</div>
				</section>

				<section id="contenido" class='slide'>
					<h2>Contenido</h2>
					<ul>
						<li>El sistema de E/S (I/O).</li>
						<li>Caracterización de los dispositivos de E/S.</li>
						<li>Controladores.</li>
					</ul>
				</section>

				<section>
					<section id="introduccion">
						<h2>Dispositivos de E/S</h2>
						<h3>Recursos de un Computadora</h3>
						<ul>
							<li>CPU</li>
							<li>Memoria</li>
							<li>Dispositivos de E/S:
								<ul>
									<li>Dispositivos de Interfaz de usuario (periféricos)</li>
									<li>Dispositivos de Almacenamiento (secundario-terciario)</li>
									<li>Dispositivos de Comunicaciones</li>
								</ul>
							</li>
						</ul>
					</section>
					
					<section>
						<h2>Dispositivos de E/S</h2>
						<p>
							Los sistemas operativos se esfuerzan para optimizar la E/S.
							Debido a que son los más lentos de todo el sistema, por ejemplo:
							<ul>
								<li>CPU ejecuta operaciones a 1-4 GHz aproximadamente.</li>
								<li>El acceso a RAM es de nanosegundos.</li>
								<li>Dispositivos de E/S: acceso de milisegundos o más.</li>
							</ul>
						</p>
					</section>
				</section>

				<section id="sistema-es">
					<h2>Sistema de E/S</h2>
					<p>Ofrece una visión lógica simplificada de dispositivos de E/S:</p>
					<ul>
						<li>Para otros componentes del SO: Ejemplo. el sistema de archivos.</li>
						<li>Para el usuario.</li>
					</ul>
					<h3>Objetivos</h3>
					<ul>
						<li>Optimizar la E/S, implementando mecanismos para mejorar prestaciones.</li>
						<li>Facilitar el manejo de los dispositivos periféricos.</li>
						<li>Permitir conectar cualquier tipo de dispositivo físico sin remodelar el sistema operativo.</li>
						<li>Permitir conectar dispositivos solventando automáticamente su instalación (plug&play).</li>
					</ul>
				</section>


				<section id="caracterizacion-es">
					<h2>Caracterización de los Dispositivos de E/S</h2>
					<h3>¿Cómo se ven los dispositivos de E/S?</h3>
					<ul>
						<li>
							<strong>Los programadores:</strong> una caja negra que permite leer y 
			 				escribir datos a través de una funcionalidad bien definida.
						</li>
						<li>
							<strong>Los fabricantes de dispositivos:</strong> 
							instrumento muy complejo, cientos o miles de componentes
							electrónicos o electro-mecánicos.
						</li>
						<li>
							<strong>Los diseñadores de sistemas operativos:</strong>
							les interesa la funcionalidad, pero con gran detalle; 
							la interfaz física y su comportamiento interno para
							 poder optimizar el acceso.
						</li>
					</ul>
				</section>
				<section>
					<h3>Elementos del Sistema de Entrada / Salida</h3>
					<h4>Periféricos o dispositivos de E/S</h4>
					<ul>
						<li>Son el componente físico.</li>
						<li>Se conectan al computador a través del controlador de dispositivo.</li>
					</ul>
					<h4>Controladores de dispositivos</h4>
					<ul>
						<li>Son el componente electrónico</li>
						<li>
							Se encargan de la transferencia de información entre la memoria 
							principal y los periféricos
						</li>
						<li>Conectan el bus de la computadora con el dispositivo (generalmente mediante cables)</li>
					</ul>
				</section>

				<section id="controladores">
					<h2>Controladores</h2>
					<p>
						Los estándares permiten usar un controlador
						para distintos Dispositivos:
					</p>
					<ul>
						<li>SCSI, Small Computer System Interface.</li>
						<li>IDE, Integrated Drive Electronics.</li>
						<li>USB, Universal Serial Bus.</li>
					</ul>
					<p>
						El controlador es la interfaz del dispositivo 
						con el bus de la computadora y es el componente 
						que se ve desde el CPU. Poseen <strong>3 registros principales</strong>, 
						necesarios para su programación:</p>
					<ul>
						<li>Registros de Datos.</li>
						<li>Registros de Estado.</li>
						<li>Registros de Control.</li>
					</ul>
				</section>
				<section id="caracteristicas-controladores">
					<h2>Características de un controlador</h2>
					<ul>
						<li>
							<h4>Dirección de E/S:</h4>
							<ul>
								<li>Usando puertos.</li>
								<li>Mapeado en memoria.</li>
							</ul>
						</li>
						<li>
							<h4>Unidad de transferencia:</h4>
							<ul>
								<li>De carácter.</li>
								<li>De bloque.</li>
							</ul>
						</li>
						<li>
							<h4>Interacción computadora-controlador:</h4>
							<ul>
								<li>Interrupción.</li>
								<li>E/S programada.</li>
							</ul>
						</li>
					</ul>
				</section>
				<section id="caracteristicas-controladores-2">
					<h3>a) De acuerdo al direccionamiento de la E/S</h3>
					<ul>
						<li>
							<h4>Dispositivos por puertos de E/S (ej. arquitectura Intel):</h4>
							<p>
								Al controlador se le asigna un puerto de E/S, una
								interrupción hardware. Se programa con operaciones de 
								E/S (portin y portout) para indicar que registro se quiere 
								manipular y como.
							</p>
						</li>
						<li>
							<h4>Dispositivos proyectados en memoria:</h4>
							<p>
								Se asigna a cada controlador un rango de dirección
							   	es a través de las cuáles se accede a sus registros.
					   			Se programa con instrucciones de acceso a memoria,
						   		se reserva una zona de memoria física para asignar a
								controladores de E/S.
						   	</p>
					   </li>
					</ul>
					<aside class="notes">
						Nombrar el 1GB reservado
					</aside>
				</section>
				<section id="caracteristicas">
					<h2>Características de un controlador</h2>
					<div class="center half">
						<img src="img/class13/wines.png" alt="ES en Windows" />
					</div>
					<p>En Windows</p>
				</section>
				<section id="caracteristicas-2">
					<h2>Características de un controlador</h2>
					<div class="center half">
						<img src="img/class13/lines.png" class="noborder" alt="ES en Linux" />
					</div>
					<p>En Linux</p>
				</section>
				<section id="caracteristicas-controladores-3">
					<h2>Características de un controlador</h2>
					<h3>b) De acuerdo a la unidad de transferencia</h3>
					<ul>
						<li>
							<h4>Operaciones (leer, escribir, posicionarse)</h4>
							<ul>
								<li>
									Posible acceso a través de ficheros proyectados en
									memoria como los discos y cintas.
								</li>
							</ul>
						</li>
					</ul>
				</section>
				<section id="caracteristicas-controladores-4">
					<h2>Características de un controlador</h2>
					<h3>b) De acuerdo a la unidad de transferencia</h3>
					<ul>
						<li>
							<h4>Dispositivos de caracter</h4>
							<ul>
								<li>Acceso secuencial a nivel de carácter.</li>
								<li>
									Operaciones: get, put, ....
									Ejemplo: terminales, impresoras, interfaces de red.
								</li>
							</ul>
							<h4>Dispositivos de bloque</h4>
							<ul>
								<li>Acceso por bloques de datos, utilizan búffers.</li>
								<li>El disco duro funciona de esta manera.</li>
							</ul>
						</li>
					</ul>
				</section>

				<section id="segun-unidad-transferencia">
					<h3>b) De acuerdo a la unidad de transferencia</h3>
					<ul>
						<li>
							<h4>L/E guiada por programa</h4>
							<p>El CPU programa las operaciones y monitoriza el estado del
								dispositivo mediante sondeo.
							</p>
						</li>
						<li>
							<p>Ejemplo de lectura de un único dispositivo:</p>
							<pre><code>
	configurar_dispositivo();
	while(!fin_lectura())
	{
	&nbsp;&nbsp;programar_lectura();
	&nbsp;&nbsp;while (!dato_recibido());
	&nbsp;&nbsp;leer_dato();
	}
							</code></pre>
							
						</li>
					</ul>
				</section>
				<section id="segun-tasa-transferencia">
					<h3>b) De acuerdo a la unidad de transferencia</h3>
					<ul>
						<li>
							<h4>L/E guiada por programa</h4>
							<p>Ejemplo de lectura de un múltiples dispositivos:</p>
							<div class="half left">
							<pre><code>
configurar_dispositivo();

while(!fin_transferencias())
{
&nbsp;&nbsp;if (dispositivo_preparado(DISP1))
&nbsp;&nbsp;&nbsp;&nbsp;atender_disp(DISP1);

&nbsp;&nbsp;if (dispositivo_preparado(DISP2))
&nbsp;&nbsp;&nbsp;&nbsp;atender_disp(DISP2);

&nbsp;&nbsp;if (dispositivo_preprado(DISPN))
&nbsp;&nbsp;&nbsp;&nbsp;atender_disp(DISPN);
}</code></pre>
							<p class="center"><small>Prioridad uniforme</small></p>
						</div>
						<div class="half left">
							<pre><code>
configurar_dispositivo();
while(!fin_transferencias())
{
&nbsp;&nbsp;if (dispositivo_preparado(DISP1))
&nbsp;&nbsp;&nbsp;&nbsp;atender_disp(DISP1);

&nbsp;&nbsp;else if (dispositivo_preparado(DISP2))
&nbsp;&nbsp;&nbsp;&nbsp;atender_disp(DISP2);

&nbsp;&nbsp;else if (dispositivo_preprado(DISPN))
&nbsp;&nbsp;&nbsp;&nbsp;atender_disp(DISPN);
}</code></pre>
							<p class="center"><small>Prioridad Escalonada</small></p>
						</div>
						</li>
					</ul>
					<aside class="notes">
						La diferencia son los IFs
					</aside>
				</section>
				<section id="inconvenientes">
					<h3>Controladores</h3>
					<h4>Inconvenientes:</h4>
					<ul>
						<li>Espera ocupada.</li>
						<li>
							Complicado coordinar gestión de dispositivos con otras actividades.
						 </li>
					</ul>
					<h4>Usado en:</h4>
					<ul>
						<li>Sistemas empotrados.</li>
						<li>Procesadores dedicados.</li>
						<li>Sistemas monoprogramado.</li>
					</ul>
				</section>

				<section id="caracteristicas-controladores-5">
					<h2>Características de un controlador</h2>
					<h3>c) De acuerdo a interacción computador-controlador</h3>
					<h4>E/S por interrupciones:</h4>
					<div class="right">
						<img src="img/class13/irqs.jpg" class="noborder" alt="IRQ">
						<p class="nota">Lista de IRQs en Windows</p>
					</div>
					<p>
						El procesador envía la orden de E/S al controlador
						del dispositivo y  se dedica 
						a otras tareas hasta que llega una interrupción del dispositivo.

					</p>
					<aside class="notes">
						No espera hasta que este se encuentre 
						listo para enviar o transmitir datos sino que hace otras tareas
					</aside>
				</section>
				<section id="caracteristicas-controladores-6">
					<h3>c) De acuerdo a interacción computador-controlador</h3>
					<h4>E/S por interrupciones:</h4>
					<p>
						Las rutinas de interrupción suelen tener dos partes:
					</p>
					<ul>
						<li>
							<strong> Parte genérica:</strong>
							<ul>
								<li>Captura de la interrupción</li>
								<li>Salvaguarda de estado del procesador</li>
								<li>Activación de la rutina de manejo de la interrupción</li>
							</ul>
						</li>
						<li>
							<strong>Planificar la ejecución de la rutina:</strong>
							<ul>
								<li>Desactivación de la interrupción</li>
								<li>Restauración del estado del procesador</li>
								<li>Ceder de control (RET)</li>
							</ul>
						</li>
					</ul>
				</section>

				<section id="arquitectura">
					<h2>Arquitectura de dispositivos de E/S</h2>
					<div class="center">
						<img src="img/class13/arquitectura.png" alt="">
					</div>
					<br />
				</section>

				<section id="scheduler">
					<h2>Gestión de E/S en Linux</h2>
					<p>
						Linux provee 4 tipos de gestores de E/S o elevadores llamados:
					</p>
					<ul>
						<li>Anticipatory (Anticipadores)</li>
						<li>Deadline (Coloca un tiempo límite)</li>
						<li>CFQ (Complete Fairness Queueing)</li>
						<li>Noop (No operation = FIFO)</li>
					</ul>
					<aside class="notes">
						CFQ suele ser por defecto y NOOP para SSD, el Deadline usa 500ms
					</aside>
				</section>

	
				<section id="preguntas" data-background="img/questions.gif" data-background-repeat="none">
					<h1 class="stroke">¿Preguntas?</h1>
				</section>
			</div>
		</div>
		<script src="dist/reveal.js"></script>
		<script src="plugin/zoom/zoom.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/search/search.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="js/lightbox-plus-jquery.min.js"></script>
		<script>

			// Also available as an ES module, see:
			// https://revealjs.com/initialization/
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,
				history: true,
				theme: 'unet',
				transition: 'linear',

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
			});

		</script>
	</body>

</html>